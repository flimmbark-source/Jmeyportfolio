---
const { media } = Astro.props;
const isImage = media?.type === 'image';
const isVideo = media?.type === 'video';
const isEmbed = media?.type === 'embed';
---
{media && (
  <div class="mt-10 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg">
    {isImage && (
      <img src={media.src} alt={media.alt ?? ''} class="h-full w-full object-cover" loading="lazy" />
    )}
    {isVideo && (
      <video class="h-full w-full" controls poster={media.poster}>
        <source src={media.src} type={media.mimeType ?? 'video/mp4'} />
        Your browser does not support the video tag.
      </video>
    )}
    {isEmbed && (
      <div class="aspect-video w-full">
        <iframe
          src={media.src}
          title={media.title ?? 'Embedded media'}
          class="h-full w-full"
          loading="lazy"
          allowfullscreen
        ></iframe>
      </div>
    )}
  </div>
)}
